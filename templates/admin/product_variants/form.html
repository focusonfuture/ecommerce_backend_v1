{% extends "admin/base.html" %}
{% load i18n %}
{% load widget_tweaks %}

{% block content %}

<div class="min-h-screen bg-slate-50 flex justify-center p-6">

    <div class="w-full max-w-4xl bg-white rounded-3xl shadow-xl overflow-hidden">

        <!-- ================= HEADER ================= -->
        <div class="px-10 py-8 border-b bg-slate-50">
            <h1 class="text-2xl font-semibold text-slate-800">
                {% if form.instance.pk %}
                    {% trans "Edit Variant" %}
                {% else %}
                    {% trans "Create Variant" %}
                {% endif %}
            </h1>
            <p class="text-sm text-slate-500 mt-1">
                {% trans "SKU, pricing, stock and shipping details" %}
            </p>
        </div>

        <!-- ================= FORM ================= -->
        <form method="post" class="p-10 space-y-8">
            {% csrf_token %}

            <!-- ===== BASIC INFO ===== -->
            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    {{ form.sku.label_tag }}
                    {{ form.sku|add_class:"w-full px-4 py-3 rounded-xl border" }}
                    {{ form.sku.errors }}
                </div>

                <div>
                    {{ form.stock.label_tag }}
                    {{ form.stock|add_class:"w-full px-4 py-3 rounded-xl border" }}
                    {{ form.stock.errors }}
                </div>

                <div>
                    {{ form.price.label_tag }}
                    {{ form.price|add_class:"w-full px-4 py-3 rounded-xl border" }}
                    {{ form.price.errors }}
                </div>

                <div>
                    {{ form.sale_price.label_tag }}
                    {{ form.sale_price|add_class:"w-full px-4 py-3 rounded-xl border" }}
                    {{ form.sale_price.errors }}
                </div>
            </div>

            <!-- ===== SHIPPING / DIMENSIONS ===== -->
            <div>
                <h3 class="text-sm font-semibold text-slate-700 mb-3">
                    {% trans "Shipping & Dimensions" %}
                </h3>

                <div class="grid md:grid-cols-4 gap-6">
                    {{ form.weight_kg|add_class:"w-full px-4 py-3 rounded-xl border" }}
                    {{ form.length_cm|add_class:"w-full px-4 py-3 rounded-xl border" }}
                    {{ form.width_cm|add_class:"w-full px-4 py-3 rounded-xl border" }}
                    {{ form.height_cm|add_class:"w-full px-4 py-3 rounded-xl border" }}
                </div>
            </div>

            <!-- ===== COST & TAX ===== -->
            <div class="grid md:grid-cols-2 gap-6">
                <div>
                    {{ form.cost_price.label_tag }}
                    {{ form.cost_price|add_class:"w-full px-4 py-3 rounded-xl border" }}
                </div>

                <div>
                    {{ form.tax_class.label_tag }}
                    {{ form.tax_class|add_class:"w-full px-4 py-3 rounded-xl border" }}
                </div>
            </div>

            <!-- ===== STATUS ===== -->
            <label class="flex items-center gap-3 pt-2">
                {{ form.is_active }}
                <span class="font-medium text-slate-700">
                    {% trans "Active variant" %}
                </span>
            </label>

            <!-- ===== ACTIONS ===== -->
            <div class="flex flex-col sm:flex-row gap-4 pt-8">

                <button type="submit"
                        class="flex-1 py-4 bg-teal-600 hover:bg-teal-700
                               text-white font-semibold rounded-xl transition">
                    {% trans "Save Variant" %}
                </button>

                <a href="{% url 'dashboard:product_variant_list' product.slug %}"
                   class="flex-1 py-4 bg-slate-100 hover:bg-slate-200
                          text-center rounded-xl font-medium transition">
                    ‚Üê {% trans "Back to Variants" %}
                </a>

            </div>

        </form>
    </div>
</div>

{% endblock %}
